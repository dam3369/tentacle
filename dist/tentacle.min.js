/*! tentacle - v0.1.0 */
require.config({paths:{"tentacle/controller":"tentacle","tentacle/event":"tentacle","tentacle/event.loader":"tentacle","tentacle/mutation":"tentacle","tentacle/tentacle":"tentacle","tentacle/event/interface":"tentacle","tentacle/event/mouse":"tentacle"}}),define("tentacle",function(){"use strict";return{load:function(a,b,c){b(["tentacle/controller"],function(d){c(d),b(["doa!class:tentacle/mutation","doa!class:tentacle/tentacle"],function(b,c){b(a,new c(a))})})}}}),define("tentacle/controller",function(){"use strict";var a={};return{register:function(b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},resolve:function(b,c,d){if(b=b.split(":"),!a[b]||!a[b][c])throw"No method registred";a[b][c](d)}}}),define("tentacle/event",["tentacle/controller","tentacle/event.loader!"],function(a,b){"use strict";return{events:b,getEventManager:function(a){var b;for(b in this.events)if(this.events.hasOwnProperty(b)){if(this.events[b].accept(a))return this.events[b];throw"no event manager found for the event type: "+a}},parseEvents:function(a){var b,c;for(b in a)a.hasOwnProperty(b)&&(c=a[b].dataset.tentacle.split(" "),this.bindEvents(a[b],c))},bindEvents:function(b,c){var d,e,f,g,h;for(d in c)c.hasOwnProperty(d)&&(e=c[d].split(":"),f=e.shift(),g=e.shift(),h=e.pop(),b.setAttribute("data-grabed",!0),this.getEventManager(f).attach(b,f,a,g,h))}}}),define("tentacle/event.loader",["doa/class","doa/interface","tentacle/event/interface"],function(a,b,c){"use strict";return{load:function(d,e,f,g){if(!g.tentacle&&!g.tentacle.events)throw"no tentacle events configuration found.";e(g.tentacle.events,function(){var e,g=Array.prototype.slice.call(arguments);for(e=0;e>g.length;e+=1)b.checkInterfaces(g[e],{"tentacle/event/interface":c}),g[e]=new a(g[e].name(),g[e]);return f(g),d})}}}),define("tentacle/mutation",function(){"use strict";var a=window.MutationObserver,b={},c="data-tentacle-identifier";return{config:{childList:!0,characterData:!0},construct:function(d,e){void 0===b[d]&&(e.base.setAttribute(c,d),b[d]={},b[d].tentacle=e,b[d].observer=new a(this.onMutations),b[d].observer.observe(e.base,this.config))},onMutations:function(a){a.forEach(function(a){b[a.target.getAttribute(c)].tentacle.grabNode()})}}}),define("tentacle/tentacle",["doa!class:tentacle/event"],function(a){"use strict";var b=new a;return{"public":{base:{}},construct:function(a){if("string"!=typeof a)throw"tentacle need a dom identifier to work.";this.base=document.querySelector(a),this.grabNode()},grabNode:function(){b.parseEvents(this.findNode(this.base))},findNode:function(a){var b='[data-tentacle]:not([data-grabed="true"])';return a?a.querySelectorAll(b):this.base.querySelectorAll(b)}}}),define("tentacle/event/interface",function(){"use strict";return{name:function(){},accept:function(a){return a},attach:function(a,b,c,d,e){return a||b||c||d||e}}}),define("tentacle/event/mouse",function(){"use strict";return{event_list:["click","mouseover","mouseout"],name:function(){return"tentacle/event/mouse"},accept:function(a){return-1===this.event_list.indexOf(a)?!1:!0},attach:function(a,b,c,d,e){a.addEventListener(b,function(a){a.preventDefault(),c.resolve(d,e,a)})}}});